<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mensagem de Erro Estilizada</title>
    <!-- Tailwind CSS via CDN (para desenvolvimento) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Anime.js via CDN -->
    <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
    <!-- Font Awesome para ícones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .erro-mensagem-geral {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            z-index: 1000;
            pointer-events: none;
        }
        
        .erro-mensagem-contraste {
            transform: translateY(-100%);
            opacity: 0;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen p-8">
    <div class="max-w-2xl mx-auto">
        <h1 class="text-3xl font-bold text-center mb-8">Sistema de Mensagens de Erro</h1>
        
        <div class="bg-white p-6 rounded-lg shadow-md">
            <p class="text-gray-700 mb-4">Clique no botão abaixo para simular uma mensagem de erro que aparecerá no topo da página.</p>
            
            <div class="flex flex-col space-y-4">
                <button onclick="mostrarErroTopo('Erro de conexão com o servidor.')" 
                    class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded transition">
                    Simular Erro de Conexão
                </button>
                
                <button onclick="mostrarErroTopo('Dados inválidos no formulário.')" 
                    class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded transition">
                    Simular Erro de Validação
                </button>
                
                <button onclick="mostrarErroTopo('Você não tem permissão para esta ação.')" 
                    class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded transition">
                    Simular Erro de Permissão
                </button>
            </div>
            
            <div class="mt-6 p-4 bg-gray-100 rounded">
                <p class="text-sm text-gray-600">
                    <strong>Nota:</strong> As mensagens de erro desaparecerão automaticamente após 3 segundos.
                </p>
            </div>
        </div>
    </div>

    <script>
     
export function mostrarErroTopo(mensagem) {
  const old = document.querySelector('.erro-mensagem-geral');
  if (old) old.remove();

  const erroDiv = document.createElement('div');
  erroDiv.className = 'erro-mensagem-geral';

  const contrasteDiv = document.createElement('div');
  contrasteDiv.className = 'erro-mensagem-contraste';
  contrasteDiv.innerHTML = `
                <div class="flex z-10 items-center bg-red-100 border-l-4 border-red-500 text-red-700 px-4 py-3 shadow-md rounded-b mb-4">
                    <i class="fas fa-exclamation-circle mr-3"></i>
                    <div>
                        <strong class="font-bold">Erro: </strong>
                        <span class="block sm:inline">${mensagem}</span>
                    </div>
                </div>
            `;

  erroDiv.appendChild(contrasteDiv);
  document.body.prepend(erroDiv);

  // Animação de entrada com Anime.js
  anime({
    targets: '.erro-mensagem-contraste',
    translateY: 0,
    opacity: 1,
    duration: 600,
    easing: 'easeOutElastic(1, .8)'
  });

  // Remover após 3 segundos com animação de saída
  setTimeout(() => {
    if (erroDiv.parentNode) {
      anime({
        targets: '.erro-mensagem-contraste',
        translateY: -100,
        opacity: 0,
        duration: 400,
        easing: 'easeInExpo',
        complete: function () {
          if (erroDiv.parentNode) erroDiv.remove();
        }
      });
    }
  }, 3000);
}
  
    </script>
</body>
</html>